% Some limbo text.
@*Foo. The function |foo| adds twice its argument's value to thrice it.
@l
(defun foo (x)
  (+ @<Twice |x|@> @<Thrice |x|@>))

@ @<The only even prime@>=2
@ @<Twice |x|@>=(* x @<The only...@>)
@ @<Thrice...@>=(* x 3)

@*Bar. The function |bar| returns the first three natural numbers, and
demonstrates how a named section may be defined piecewise.
@l
(defun bar () '(@<Natural numbers@>))

@ @<Natural...@>=0
@ @<Natural...@>=1
@ @<Natural...@>=@<The only even...@>

@*Baz. The sole purpose of this section is to exercise some of the
pretty-printing capabilities of |weave|.

@l
(defun read-from-file (file &key direction)
  (with-open-file (stream file :direction direction)
    (loop for x = (read stream nil nil nil) ; |x| is a loop-local variable
          while x collect x)))

(defvar *data-list* '(a b c if 2 3)
  "Some stuff.")

(defun body-forms ()
  (multiple-value-bind (a b c)
      (three-values)
    (body-form-1)
    (body-form-2)))


